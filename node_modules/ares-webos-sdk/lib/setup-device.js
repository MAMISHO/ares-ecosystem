var async=require("async"),sprintf=require("sprintf-js").sprintf,Table=require("easy-table"),novacom=require("./novacom");
(function(){var c={};"undefined"!==typeof module&&module.exports&&(module.exports=c);c.showDeviceListAndExit=function(){var d=new Table,c=[],a=new novacom.Resolver;async.waterfall([a.load.bind(a),a.list.bind(a),function(a,e){Array.isArray(a)&&a.forEach(function(b){c.push({name:b.name,info:b.username+"@"+b.host+":"+b.port,connection:"ssh"})});c.forEach(function(b){d.cell("name",b.name);d.cell("deviceinfo",b.info);d.cell("connection",b.connection);d.newRow()});console.log(d.toString());e()}],function(a){process.exit(0)})}})();
