var fs=require("fs"),path=require("path"),mkdirp=require("mkdirp"),shelljs=require("shelljs");
(function(){function d(a){a=path.resolve(process.env.APPDATA||process.env.HOME||process.env.USERPROFILE,a);fs.existsSync(a)||mkdirp.sync(a);this.appDataPath=a}var e={};"undefined"!==typeof module&&module.exports&&(module.exports=e);e.create=function(a){return new d(a||".ares")};d.prototype={getPath:function(a){return a&&"function"===typeof a?setImmediate(a,null,this.appDataPath):this.appDataPath},isExist:function(a,b){a&&"function"===typeof a&&(b=a,a=".");var c=fs.existsSync(path.join(this.appDataPath,
a));return b&&"function"===typeof b?setImmediate(b,null,c):c},flush:function(a,b){a&&"function"===typeof a&&(b=a,a=".");shelljs.rm("-rf",path.join(this.appDataPath,a));if(b&&"function"===typeof b)return setImmediate(b)},put:function(a,b,c){if("string"===!typeof a)return c&&"function"===typeof c?setImmediate(c,Error("Wrong arguments in put()")):"Wrong arguments in put()";"function"===typeof b&&(c=b,b=".");b=path.join(this.appDataPath,b);fs.existsSync(b)||mkdirp.sync(b);shelljs.cp("-Rf",a,b);if(c&&
"function"===typeof c)return setImmediate(c)},remove:function(a,b){"function"===typeof a&&(b=a,a=".");var c=path.join(this.appDataPath,a);fs.existsSync(c)&&shelljs.rm("-rf",c);if(b&&"function"===typeof b)return setImmediate(b)}}})();
